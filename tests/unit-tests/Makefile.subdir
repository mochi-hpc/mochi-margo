if BUILD_TESTS

check_PROGRAMS += \
 tests/unit-tests/margo-addr \
 tests/unit-tests/margo-init \
 tests/unit-tests/margo-identity \
 tests/unit-tests/margo-config \
 tests/unit-tests/margo-elasticity \
 tests/unit-tests/margo-pool \
 tests/unit-tests/margo-abt-pool \
 tests/unit-tests/margo-eventual \
 tests/unit-tests/margo-logging \
 tests/unit-tests/margo-after-abt-init \
 tests/unit-tests/margo-timer \
 tests/unit-tests/margo-bulk \
 tests/unit-tests/margo-scheduling \
 tests/unit-tests/margo-comm-error \
 tests/unit-tests/margo-comm-finalize \
 tests/unit-tests/margo-forward \
 tests/unit-tests/margo-monitoring \
 tests/unit-tests/margo-sanity-warnings

TESTS += \
 tests/unit-tests/margo-addr \
 tests/unit-tests/margo-identity \
 tests/unit-tests/margo-config \
 tests/unit-tests/margo-elasticity \
 tests/unit-tests/margo-pool \
 tests/unit-tests/margo-abt-pool \
 tests/unit-tests/margo-logging \
 tests/unit-tests/margo-after-abt-init \
 tests/unit-tests/margo-bulk \
 tests/unit-tests/margo-forward \
 tests/unit-tests/margo-sanity-warnings

SKIPPED_TESTS += \
 tests/unit-tests/margo-monitoring \
 tests/unit-tests/margo-scheduling \
 tests/unit-tests/margo-init \
 tests/unit-tests/margo-eventual \
 tests/unit-tests/margo-comm-error \
 tests/unit-tests/margo-comm-finalize \
 tests/unit-tests/margo-timer

tests_unit_tests_margo_addr_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-addr.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_init_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-init.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_identity_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-identity.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_config_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-config.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_elasticity_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-elasticity.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_pool_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-pool.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_eventual_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-eventual.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_abt_pool_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-abt-pool.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_logging_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-logging.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_after_abt_init_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-after-abt-init.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_scheduling_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-scheduling.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_comm_error_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-comm-error.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_comm_finalize_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-comm-finalize.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_timer_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-timer.c

tests_unit_tests_margo_bulk_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-bulk.c

tests_unit_tests_margo_forward_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-forward.c \
 tests/unit-tests/helper-server.c

tests_unit_tests_margo_monitoring_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-monitoring.c

tests_unit_tests_margo_sanity_warnings_SOURCES = \
 tests/unit-tests/munit/munit.c \
 tests/unit-tests/margo-sanity-warnings.c

noinst_HEADERS += tests/unit-tests/munit/munit.h \
                  tests/unit-tests/helper-server.h
endif
